{% include head.html %}
{% comment %}
After the head.html include above, we can assume that the <body> tag has
  aleady been opened.
{% endcomment %}

<header class="container-fluid"></header>

<article class="container-fluid">
  <section id="visualization">

    <nav>
      <ul class="nav nav-tabs cfi-tabs" role="tablist">
        {% for tab in site.data.tabs %}
        <li role="presentation">
          <a href="#{{ tab.section }}" aria-controls="{{ tab.section }}"
              role="tab" data-toggle="tab">
            {{ tab.title }}
          </a>
        </li>
        {% endfor %}
      </ul>

    </nav>

    <div class="col-lg-6">
      <svg id="map"></svg>
    </div><!--.col-lg-8-->

    <div class="col-lg-6">
      <div id="meta" class="panel panel-default">
        <div class="tab-content panel-heading">
        {% for tab in site.data.tabs %}
          {% comment %}The active pane will be set via javascript{% endcomment %}
          <div role="tabpanel" id="{{ tab.section }}" class="tab-pane">
            <div role="group" class="about-buttons btn-group btn-group-justified">
            {% for button in site.data.buttons.about %}
              <div class="btn-group" role="presentation">
              <a id="{{ tab.section }}-{{ button.name }}-button"
                  class="btn btn-default btn-block col-sm-2"
                  role="button"
                  data-toggle="modal"
                  href="../modals/{{ tab.section }}-{{ button.name }}.html"
                  data-target="#{{ tab.section }}-{{ button.name }}-modal">
                {{ button.text }}
              </a>
            </div><!--.btn-group--><!--hack for IE8 + borders-->
          {% endfor %}
            </div><!--.about-buttons-->

            <form class="controls-form form-horizontal">
            {% for group in tab.controls %}
              <div class="form-group controls-{{ group.group }}">
              {% for control in group.dropdowns %}
                {% capture label %}
                  {{ control.label }}{% if forloop.last %} ({{ group.group | capitalize }}){% endif %}
                {% endcapture %}
                <div class="col-sm-6">
                  <label class="control-label">{{ label }}</label>
                  <select class="chooser form-control" id="chooser-{{ control.id }}">
                    <optgroup label="Select a {{ label }}"></optgroup>
                  </select>
                </div>
              {% endfor %}
              </div>
            {% else %}
              <div class="form-group">
                <label class="col-sm-2 control-label">Question</label>
                <div class="col-sm-10">
                  <select class="chooser form-control"></select>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Description</label>
                <div class="col-sm-10">
                  <p class="field-description"></p>
                </div>
              </div>
            {% endfor %}
          </form><!--.controls-form-->

            {% comment %}Generate the Modals{% endcomment %}
            {% for button in site.data.buttons.about %}
            <div class="modal fade" id="{{ tab.section }}-{{ button.name }}-modal"
                tabindex="-1" role="dialog">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                </div><!--.modal-content-->
              </div><!--.modal-dialog-->
            </div><!--.modal-{{ button.name }}-->
            {% endfor %}

          </div><!--.tab-pane-->

          {% endfor %}
        </div><!--.tab-content.panel-heading-->

        <div class="panel-body">
          <div class="col-sm-6">
            <svg id="color-legend"></svg>
          </div><!--.col-sm-6-->
          <div class="col-sm-6">
            {% include buttons/download.html %}
          </div><!--.col-sm-6-->
        </div><!--.panel-body-->
      </div><!--.panel#meta-->
    </div><!--.col-lg-6 -->
    <div class="col-md-12">
      <figure class="grid">
        <div class="row">
          <div class="col-sm-9">
            <p class="year-sort-instruction">Click on a year to re-sort the grid.</p>
          </div>
          <div class="col-sm-3">
            <button class="col-sm-6 btn btn-default btn-block alphabetize-states-button">
              <i class="fa fa-sort-alpha-asc"></i> Sort States Alphabetically
            </button>
          </div>
        </div>
        <svg id="main"></svg>
      </figure>
    </div><!--.col-md-12-->

  </section><!--/#visualization-->
</article>

{% include javascripts.html %}

</body>
</html>
